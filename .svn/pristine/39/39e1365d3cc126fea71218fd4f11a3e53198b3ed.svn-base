<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core"  prefix="c"%>     
<%@ include file="../workflow/js/commons.jspf" %>
<html>
<head>
	<meta charset="UTF-8">
    <title>system-Account</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="/static/styles/css/ace-fonts.css"/>
    <link rel="stylesheet" type="text/css" href="/static/styles/css/font-awesome.css"/>
    <link rel="stylesheet" type="text/css" href="/static/styles/css/bootstrap.css"/>
    <link rel="stylesheet" type="text/css" href="/static/styles/css/bootstrap-table.min.css"/>
    <link rel="stylesheet" href="/static/scripts/gecko-modules/bootstrap/bootstrap-editable.css">
    <link rel="stylesheet" type="text/css" href="/static/styles/css/ace.css"/>
    <link rel="stylesheet" type="text/css" href="/static/styles/gecko.css"/>
    <script type="text/javascript" src="/static/scripts/gecko-modules/jquery/jquery.js"></script>
    <script src="//apps.bdimg.com/libs/jqueryui/1.10.4/jquery-ui.min.js"></script>
    <script type="text/javascript" src="/static/scripts/gecko-modules/bootstrap/bootstrap.min.js"></script>
    <script type="text/javascript" src="/static/scripts/gecko-modules/bootstrap/bootstrap-table.js"></script>
    <script src="/static/scripts/gecko-modules/bootstrap/bootstrap-table-editable.js"></script>
    <script src="/static/scripts/gecko-modules/bootstrap/bootstrap-editable.min.js"></script>
    <script type="text/javascript" src="/static/scripts/gecko-modules/bootstrap/bootstrap-table-zh-CN.js"></script>
    <script type="text/javascript" src="/static/scripts/app/system/comm/utils.js"></script>
    <script type="text/javascript" src="/static/scripts/system/account/account.js"></script>

<title>投诉举报流程</title>
</head>
<body>
 	<div class="page-content">
    <table id="complainList"></table>
	</div>
</body>
</html>
<script type="text/javascript">
$(function () {
	$("#complainList").bootstrapTable({
                toolbar: "#toolbar",
                idField: "id",
                pagination: true,
                limit: 15,
                showRefresh: true,
                sidePagination: "server",
                search: true,
                url: "/complain/complainHome",
                columns: [{
                    checkbox: true
                }, {
                    field: "id",
                    visible: false
                }, {
                    field: "complainer",
                    title: "举报人",
                    type: "text",
                    search: "true",
                    editable: {
                        type: "text"
                    }
                }, {
                    field: "complainState",
                    title: "举报单位",
                    type: "text",
                    search: "true",
                    editable: {
                        type: "text"
                    }
                }, {
                    field: 'operate',
                	title: '操作',
                	align: 'center',
                	width : 100,
                	events: operateEvents,
                	formatter: operateFormatter
                }]
            });
	});
	function operateFormatter(value, row, index) {
      return [
      '<button type="button" class="RoleOfedit btn btn-primary  btn-sm" style="margin-right:15px;">业务办理</button>',
      '<button type="button" class="viewHisComment btn btn-primary  btn-sm" style="margin-right:15px;">查看办理情况</button>'
      ].join('');
	}
window.operateEvents = {
    'click .RoleOfedit': function (e, value, row, index) {
    	window.location.href="/workflow/startProcess?id="+row.id; 
	},
	 'click .viewHisComment': function (e, value, row, index) {
    	window.location.href="/workflow/startProcess?id="+row.id; 
	}
};
</script>